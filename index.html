<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Switch de Luz — Compacto</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <style>
    :root {
      color-scheme: dark;
      --bg: radial-gradient(circle at 20% 20%, #0f172a, #0b1020 45%);
      --accent: #fbbf24;
      --panel: rgba(255,255,255,.04);
    }
    body {
      background: var(--bg);
      min-height: 100vh;
      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      color: #e2e8f0;
      overflow-x: hidden;
    }
    .glass { background: linear-gradient(145deg, rgba(255,255,255,.08), rgba(255,255,255,.02)); border: 1px solid rgba(255,255,255,.08); box-shadow: 0 18px 60px rgba(0,0,0,.32); backdrop-filter: blur(16px); }
    .lamp { transition: transform .5s ease, filter .5s ease; }
    .lamp.is-on { transform: translateY(-4px) scale(1.01); filter: saturate(1.05); }
    .lamp-bulb { background: radial-gradient(circle at 50% 32%, #fef3c7 0%, #facc15 38%, #c89c22 65%, #4d3a1a 100%); box-shadow: inset 0 -10px 18px rgba(0,0,0,.32), inset 0 14px 24px rgba(255,255,255,.22); transition: box-shadow .35s ease, filter .35s ease; filter: brightness(.75); }
    .lamp.is-on .lamp-bulb { box-shadow: 0 0 32px rgba(251,191,36,.28), inset 0 18px 28px rgba(255,255,255,.32); filter: brightness(1.05); }
    .lamp-glow { position: absolute; inset: -8% -12%; background: radial-gradient(circle at 50% 40%, rgba(251,191,36,.65), rgba(251,191,36,0) 70%); filter: blur(48px); opacity: 0; transition: opacity .4s ease; pointer-events: none; }
    .lamp.is-on .lamp-glow { opacity: 1; }
    .flip { width: 100%; height: 80px; perspective: 900px; position: relative; }
    .flip-base { position: absolute; inset: 0; border-radius: 18px; background: linear-gradient(160deg, rgba(255,255,255,.08), rgba(255,255,255,.02)); border: 1px solid rgba(255,255,255,.08); box-shadow: inset 0 -4px 12px rgba(0,0,0,.4), inset 0 1px 0 rgba(255,255,255,.06); }
    .flip-lever { position: absolute; inset: 10px; border-radius: 14px; background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.08), rgba(255,255,255,.02)), #0f172a; box-shadow: 0 18px 34px rgba(0,0,0,.45); transform-origin: 50% 50% -40px; transform: rotateX(-22deg); transition: box-shadow .25s ease; }
    .flip-lever::after { content: ""; position: absolute; inset: 12px; border-radius: 10px; background: linear-gradient(120deg, rgba(255,255,255,.14), rgba(255,255,255,0)); box-shadow: inset 0 0 0 1px rgba(255,255,255,.08); }
    .flip-lever.on { box-shadow: 0 14px 28px rgba(251,191,36,.26), 0 30px 60px rgba(251,191,36,.12); }
    .slider-track { position: relative; height: 18px; border-radius: 999px; background: linear-gradient(90deg, rgba(255,255,255,.05), rgba(255,255,255,.12)); border: 1px solid rgba(255,255,255,.08); overflow: hidden; }
    .slider-fill { position: absolute; inset: 0; background: linear-gradient(90deg, rgba(251,191,36,.2), rgba(251,191,36,.55)); transform: scaleX(0); transform-origin: left; filter: blur(5px); opacity: .15; transition: opacity .3s ease; }
    .slider-knob { position: absolute; top: 50%; left: 0%; width: 46px; height: 46px; transform: translate(-6px, -50%); border-radius: 16px; background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.35), rgba(255,255,255,0)), #0f172a; box-shadow: 0 16px 30px rgba(0,0,0,.42), inset 0 1px 0 rgba(255,255,255,.08); display: grid; place-items: center; }
    .slider-knob::after { content: ""; width: 24px; height: 24px; border-radius: 10px; background: linear-gradient(145deg, #fcd34d, #fb923c); opacity: 0; transition: opacity .25s ease; filter: drop-shadow(0 0 10px rgba(251,191,36,.35)); }
    .slider-knob.on { box-shadow: 0 12px 26px rgba(251,191,36,.32), inset 0 1px 0 rgba(255,255,255,.12); }
    .slider-knob.on::after { opacity: 1; }
    .badge { transition: background .25s ease, border-color .25s ease; }
    .halo { position: absolute; inset: -30%; border-radius: 50%; background: radial-gradient(circle, rgba(94,234,212,.18), transparent 60%); filter: blur(50px); opacity: .6; pointer-events: none; }
  </style>
</head>
<body>
  <div class="absolute inset-0 bg-[radial-gradient(circle_at_12%_18%,rgba(251,191,36,.08),transparent_32%),radial-gradient(circle_at_80%_12%,rgba(56,189,248,.08),transparent_28%),radial-gradient(circle_at_50%_80%,rgba(74,222,128,.08),transparent_28%)]"></div>
  <main class="relative max-w-5xl mx-auto px-6 pt-14 pb-16 space-y-8">
    <header class="flex flex-col gap-3">
      <p class="text-xs uppercase tracking-[0.28em] text-slate-400">Switch • Led</p>
      <div class="flex items-center justify-between gap-4">
        <div>
          <h1 class="text-3xl font-semibold text-white">Projeto de luzes com controles multiplos</h1>
          <p class="text-slate-400">Dois controles sincronizados com feedback imediato.</p>
        </div>
        <div class="badge px-4 py-2 rounded-xl border border-emerald-300/30 bg-emerald-400/10 text-emerald-50 text-sm" id="badgeState">Off</div>
      </div>
    </header>

    <section class="grid lg:grid-cols-[1.1fr_0.9fr] gap-6 items-stretch">
      <div class="glass relative rounded-3xl p-6 overflow-hidden">
        <div class="halo"></div>
        <div class="flex items-center justify-between mb-4">
          <div>
            <h2 class="text-lg font-semibold text-white">Luz Cental</h2>
            <p class="text-slate-400 text-sm">Luz amarela com glow suave.</p>
          </div>
          <div class="px-3 py-1 rounded-full bg-white/10 border border-white/10 text-[11px] uppercase tracking-[0.2em]">LED 1</div>
        </div>
        <div class="relative h-[320px] bg-gradient-to-b from-slate-900/70 to-slate-900/30 border border-white/5 rounded-2xl flex items-center justify-center overflow-hidden">
          <div class="absolute inset-0 bg-[radial-gradient(circle_at_50%_0%,rgba(255,255,255,.08),transparent_45%)]"></div>
          <div id="lamp" class="lamp relative w-[240px] flex flex-col items-center">
            <div class="lamp-glow"></div>
            <div class="w-1 h-36 bg-gradient-to-b from-slate-300/30 to-slate-900 rounded-full"></div>
            <div class="relative w-44 h-44 rounded-[34px] bg-gradient-to-b from-slate-800 to-slate-900 border border-white/5 shadow-[0_28px_60px_rgba(0,0,0,.5)] flex flex-col items-center justify-center gap-3">
              <div class="lamp-bulb w-20 h-20 rounded-full border border-white/10"></div>
              <div class="w-12 h-12 border-2 border-amber-200/50 rounded-full shadow-inner"></div>
              <span class="text-[10px] tracking-[0.24em] text-white/40 uppercase">Luz Cental</span>
            </div>
          </div>
        </div>
        <div class="flex items-center gap-2 text-sm text-slate-300 mt-4">
          <span class="w-2.5 h-2.5 rounded-full bg-amber-300 shadow-[0_0_0_8px_rgba(251,191,36,.1)]"></span>
          Estado da lâmpada: <strong id="statusText" class="text-amber-100 ml-1">Desligada</strong>
        </div>
      </div>

      <div class="space-y-5">
        <div class="glass rounded-3xl p-5 border border-white/5">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-[11px] uppercase tracking-[0.24em] text-amber-200/80">Controle 01</p>
              <h3 class="text-lg font-semibold text-white">Barra de Led</h3>
              <p class="text-slate-400 text-sm">Clique abaixo para ligar e desligar a barra de led.</p>
            </div>
            <span class="px-3 py-1 rounded-full text-xs border border-white/10 text-slate-300 bg-white/5">LED 2</span>
          </div>
          <button id="flip" class="flip mt-4 focus:outline-none active:scale-[.995] transition" aria-label="Interruptor">
            <div class="flip-base"></div>
            <div class="flip-lever" aria-hidden="true"></div>
          </button>
        </div>

        <div class="glass rounded-3xl p-5 border border-white/5">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-[11px] uppercase tracking-[0.24em] text-amber-200/80">Controle 02</p>
              <h3 class="text-lg font-semibold text-white">Slider ON/OFF dos LED's</h3>
              <p class="text-slate-400 text-sm">Arraste ou clique para ligar e desligar.</p>
            </div>
            <span class="px-3 py-1 rounded-full text-xs border border-white/10 text-slate-300 bg-white/5">Interruptor Slide</span>
          </div>
          <div class="mt-5 space-y-2">
            <div class="slider-track" id="sliderTrack">
              <div class="slider-fill" id="sliderFill"></div>
              <div class="slider-knob" id="sliderKnob"></div>
            </div>
            <div class="flex justify-between text-[11px] text-slate-400 uppercase tracking-[0.2em]">
              <span>Off</span><span>On</span>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    const lampEl = document.getElementById('lamp');
    const statusText = document.getElementById('statusText');
    const badgeState = document.getElementById('badgeState');
    const flipBtn = document.getElementById('flip');
    const flipLever = flipBtn.querySelector('.flip-lever');
    const sliderTrack = document.getElementById('sliderTrack');
    const sliderKnob = document.getElementById('sliderKnob');
    const sliderFill = document.getElementById('sliderFill');

    let isOn = false;
    let sliderValue = 0; // 0..1
    let isDrag = false;

    function spring({ from = 0, to = 1, stiffness = 0.18, damping = 0.78, onUpdate, onComplete }) {
      let x = from; let v = 0; const eps = 0.001;
      function frame() {
        const force = -(x - to) * stiffness;
        v = (v + force) * damping;
        x += v;
        if (Math.abs(v) < eps && Math.abs(x - to) < eps) {
          onUpdate(to); onComplete && onComplete(); return;
        }
        onUpdate(x); requestAnimationFrame(frame);
      }
      requestAnimationFrame(frame);
    }

    function setLamp(state) {
      isOn = state;
      lampEl.classList.toggle('is-on', state);
      statusText.textContent = state ? 'Ligada' : 'Desligada';
      badgeState.textContent = state ? 'On' : 'Off';
      badgeState.className = `badge px-4 py-2 rounded-xl border text-sm ${state ? 'border-amber-300/40 bg-amber-400/15 text-amber-50' : 'border-emerald-300/30 bg-emerald-400/10 text-emerald-50'}`;
      flipLever.classList.toggle('on', state);
      sliderKnob.classList.toggle('on', state);
    }

    function animateFlip(state) {
      const from = parseFloat(flipLever.dataset.progress || '0');
      const to = state ? 1 : 0;
      spring({
        from, to, stiffness: 0.22, damping: 0.8,
        onUpdate: (v) => {
          flipLever.dataset.progress = v;
          const angle = -22 + v * 44;
          flipLever.style.transform = `rotateX(${angle}deg)`;
          flipLever.style.boxShadow = state ? `0 14px 28px rgba(251,191,36,${0.18 + v*0.14}), 0 30px 60px rgba(251,191,36,${0.08 + v*0.08})` : `0 18px 34px rgba(0,0,0,.45)`;
        },
        onComplete: () => setLamp(state)
      });
    }

    function animateSlider(state, syncLamp = true) {
      const to = state ? 1 : 0;
      const from = sliderValue;
      spring({
        from, to, stiffness: 0.18, damping: 0.82,
        onUpdate: (val) => {
          sliderValue = Math.max(0, Math.min(1, val));
          const pos = sliderValue * (sliderTrack.clientWidth - 46 + 12);
          sliderKnob.style.transform = `translate(${pos}px, -50%) scale(${1 + 0.04 * Math.sin(sliderValue * Math.PI)})`;
          sliderFill.style.transform = `scaleX(${sliderValue})`;
          sliderFill.style.opacity = 0.15 + sliderValue * 0.35;
        },
        onComplete: () => { if (syncLamp) setLamp(state); }
      });
    }

    flipBtn.addEventListener('click', () => {
      const target = !isOn;
      animateFlip(target);
      animateSlider(target, false);
    });

    function moveSlider(e) {
      const rect = sliderTrack.getBoundingClientRect();
      const val = (e.clientX - rect.left) / rect.width;
      sliderValue = Math.max(0, Math.min(1, val));
      const pos = sliderValue * (rect.width - 46 + 12);
      sliderKnob.style.transform = `translate(${pos}px, -50%)`;
      sliderFill.style.transform = `scaleX(${sliderValue})`;
      sliderFill.style.opacity = 0.15 + sliderValue * 0.35;
    }

    sliderTrack.addEventListener('pointerdown', (e) => {
      isDrag = true; sliderTrack.setPointerCapture(e.pointerId); moveSlider(e);
    });
    sliderTrack.addEventListener('pointermove', (e) => { if (isDrag) moveSlider(e); });
    const endDrag = (e) => {
      if (!isDrag) return; isDrag = false; sliderTrack.releasePointerCapture(e.pointerId);
      const finalOn = sliderValue > 0.5; animateSlider(finalOn); animateFlip(finalOn);
    };
    sliderTrack.addEventListener('pointerup', endDrag);
    sliderTrack.addEventListener('pointerleave', endDrag);

    animateSlider(false, false);
    animateFlip(false);
  </script>
</body>
</html>
